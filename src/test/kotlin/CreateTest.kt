import io.github.serpro69.kfaker.faker
import io.restassured.RestAssured
import io.restassured.RestAssured.given
import io.restassured.builder.RequestSpecBuilder
import io.restassured.http.ContentType
import io.restassured.specification.RequestSpecification
import kotlinx.serialization.encodeToString
import kotlinx.serialization.json.Json
import model.ToDo
import org.apache.http.HttpStatus
import org.assertj.core.api.Assertions.assertThat
import org.junit.jupiter.api.*
import org.junit.jupiter.params.ParameterizedTest
import org.junit.jupiter.params.provider.CsvFileSource
import utils.SearchHelper
import java.util.*


@TestInstance(TestInstance.Lifecycle.PER_CLASS)
class CreateTest {

    private val faker = faker {}
    private lateinit var reqSpec: RequestSpecification

    @BeforeAll
    fun beforeAll() {
        val requestSpecBuilder = RequestSpecBuilder()
        requestSpecBuilder.setBaseUri("http://localhost")
        requestSpecBuilder.setPort(8081)
        requestSpecBuilder.setContentType(ContentType.JSON)
        reqSpec = requestSpecBuilder.build()
    }

    @AfterAll
    fun afterAll() {
        RestAssured.reset()
    }

    @Test
    @DisplayName("Happy Path. Correct data")
    fun positiveCreateTodo() {
        val newToDo = ToDo(
                faker.random.nextLong().toULong(),
                faker.tolkien.characters(),
                faker.random.nextBoolean())

        given()
                .spec(reqSpec)
                .body(Json.encodeToString(newToDo))
                .post("/todos")
                .then()
                .statusCode(HttpStatus.SC_CREATED)

        val createdToDo = SearchHelper().getToDoById(reqSpec, newToDo.id)
        assertThat(createdToDo).isNotNull()
        assertThat(createdToDo).isEqualTo(newToDo)
    }

    @DisplayName("Negative. Incorrect Formats")
    @ParameterizedTest
    @CsvFileSource(resources = ["/createNegative.csv"], numLinesToSkip = 0, delimiter = ';')
    fun negativeIncorrectFormats(input: String) {
        val responseMessage = given()
                .spec(reqSpec)
                .body(input)
                .post("/todos")
                .then()
                .statusCode(HttpStatus.SC_BAD_REQUEST)
                .extract().response().asPrettyString()
        assertThat(responseMessage).contains("Request body deserialize error:")
    }


    @Test
    @DisplayName("Negative. Too Big Text")
    fun negativeTooBigText() {
        val newToDo = ToDo(
                faker.random.nextLong().toULong(),
                "big textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig textbig text",
                faker.random.nextBoolean())
        val responseMessage = given()
                .spec(reqSpec)
                .body(Json.encodeToString(newToDo))
                .post("/todos")
                .then()
                .statusCode(HttpStatus.SC_REQUEST_TOO_LONG)
                .extract().response().asPrettyString()
        assertThat(responseMessage).isEqualTo("The request payload is too large")
    }

    @Test
    @DisplayName("Negative. Duplicate should not to be created")
    fun negativeCheckDuplicate() {
        val newToDo = ToDo(
                faker.random.nextLong().toULong(),
                faker.tolkien.characters(),
                faker.random.nextBoolean())

        given()
                .spec(reqSpec)
                .body(Json.encodeToString(newToDo))
                .post("/todos")
                .then()
                .statusCode(HttpStatus.SC_CREATED)

        val createdToDo = SearchHelper().getToDoById(reqSpec, newToDo.id)
        assertThat(createdToDo).isNotNull()
        assertThat(createdToDo).isEqualTo(newToDo)

        //trying to create the same ToDo
        given()
                .spec(reqSpec)
                .body(Json.encodeToString(newToDo))
                .post("/todos")
                .then()
                .statusCode(HttpStatus.SC_BAD_REQUEST)
    }

}